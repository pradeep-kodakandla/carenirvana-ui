<div style="display:flex;">
  <div class="sidebar" [class.collapsed]="isCollapse">
    <!-- Expand/Collapse Button -->
    <div class="sidebar-toolbar">
      <!-- Left-aligned button -->
      <button class="toggle-button" *ngIf="!isCollapse">
        <mat-icon>menu</mat-icon>
      </button>

      <button mat-icon-button class="toggle-button" *ngIf="!isCollapse">
        <mat-icon aria-hidden="false" matBadge="{{member?.AlertCount}}">notifications</mat-icon>
      </button>

      <!-- Spacer -->
      <div class="flex-spacer"></div>

      <!-- Right-aligned buttons -->
      <button class="toggle-button" (click)="toggleSidebar()">
        <mat-icon>{{ isCollapse ? 'people' : 'push_pin' }}</mat-icon>
      </button>
    </div>


    <div class="sidebar-content" *ngIf="!isCollapse">
      <!-- Header -->
      <div class="member-card">
        <div class="member-avatar">
          {{ member?.FirstName?.charAt(0) }}{{ member?.LastName?.charAt(0) }}
        </div>
        <div>
          <div class="member-name">{{ member?.FirstName }} {{ member?.LastName }}</div>
          <div class="member-sub">
            ID: {{ member?.MemberId }} · DOB: {{ member?.DOB }} ({{ getAge(member?.DOB) }} Yrs), {{ member?.Gender }}
          </div>
        </div>
      </div>

      <!-- Enrollment & Risk -->
      <div class="section m-top-6">
        <div class="section-title">Enrollment</div>
        <span [ngClass]="member?.EndDate ? 'pill-red' : 'badge-green'">
          {{ getLevelValue(member?.LevelMap, 'LOB') }}
          ({{ member?.EndDate ? 'Inactive' : 'Active' }})
        </span>
      </div>

      <div class="section m-top-6">
        <div class="section-title">Risk Level</div>
        <div>
          <span class="risk-chip compact" [ngClass]="(member?.RiskLevelCode || '').toLowerCase()">{{ member?.RiskLevelCode || 'No Risk' }}</span>
        </div>
      </div>

      <!-- Programs -->
      <div class="section m-top-6" *ngIf="programsList.length">
        <div class="section-title">Programs</div>
        <span class="chip" *ngFor="let prog of programsList">{{ prog }}</span>
      </div>

      <!-- Contact Information -->
      <div class="section m-top-6">
        <div class="section-title">Contact Information</div>

        <div class="row">
          <mat-icon>call</mat-icon>
          <div>123-456-7890</div>
        </div>

        <div class="row">
          <mat-icon>mail</mat-icon>
          <div>test&#64;yahoo.com</div>
        </div>

        <div class="row">
          <mat-icon>location_on</mat-icon>
          <div>12345 Example Way<br />Sanfrancisco, CA 17050</div>
        </div>
      </div>

      <!-- Care Team -->
      <div class="section m-top-6">
        <div class="section-title">Care Team</div>

        <div class="team-row">
          <div class="team-role">Care Manager</div>
          <div class="team-name">{{loggedInUser}}</div>
        </div>

        <div class="team-row">
          <div class="team-role">PCP</div>
          <div class="team-name">N/A</div>
        </div>
      </div>

      <!-- Communication -->
      <div class="section m-top-6">
        <div class="section-title">Communication</div>

        <div class="team-row">
          <div class="team-role">Preferences</div>
          <div class="team-name">Phone and Email</div>
        </div>

        <div class="team-row">
          <div class="team-role">Language</div>
          <div class="team-name">English</div>
        </div>
      </div>
    </div>


    <!-- Show 'People' Icon when Collapsed -->
    <div class="collapsed-icon" *ngIf="isCollapse">
      <mat-icon>menu</mat-icon>
    </div>
  </div>
  <div class="main-content">
    <div class="sidenav-content" style="padding-right:5px;">
      <!--<app-member [memberId]="memberId"></app-member>-->
      <router-outlet></router-outlet>
    </div>
  </div>
</div>

<!--<div class="sidebar-content" *ngIf="!isCollapse && member">-->
<!-- Header -->
<!--<div class="member-card">
  <div class="member-avatar">
    {{ member.FirstName?.charAt(0) }}{{ member.LastName?.charAt(0) }}
  </div>
  <div>
    <div class="member-name">{{ member.FirstName }} {{ member.LastName }}</div>
    <div class="member-sub">
      ID: {{ member.MemberId }} · DOB: {{ member.DOB }} ({{ getAge(member.DOB) }} Yrs), {{ member.Gender }}
    </div>
  </div>
</div>-->
<!-- Enrollment & Risk -->
<!--<div class="section m-top-6">
  <div class="section-title">Enrollment</div>
  <div>
    <span class="badge-green">
      {{ getLevelValue(member.LevelMap, 'LOB') }} ({{ member.EndDate ? 'Inactive' : 'Active' }})
    </span>
  </div>
</div>

<div class="section m-top-6" *ngIf="member.RiskLevelCode">
  <div class="section-title">Risk Level</div>
  <div><span [class]="'pill-' + getRiskClass(member.RiskLevelCode)">{{ member.RiskLevelCode }}</span></div>
</div>-->
<!-- Programs -->
<!--<div class="section m-top-6" *ngIf="member.Programs">
  <div class="section-title">Programs</div>
  <div>
    <span class="chip" *ngFor="let prog of member.Programs.split(',')">
      {{ prog.trim() }}
    </span>
  </div>
</div>-->
<!-- Contact Information -->
<!--<div class="section m-top-6">
  <div class="section-title">Contact Information</div>

  <div class="row" *ngIf="member.MemberPhoneNumberId">
    <mat-icon>call</mat-icon>
    <div>{{ member.MemberPhoneNumberId }}</div>
  </div>-->
<!-- static address -->
<!--<div class="row">
    <mat-icon>location_on</mat-icon>
    <div>12345 Example Way<br />San Francisco, CA 17050</div>
  </div>
</div>-->
<!-- Activity/Alerts -->
<!--<div class="section m-top-6">
    <div class="section-title">Stats</div>
    <div class="team-row">Authorizations: {{ member.AuthCount }}</div>
    <div class="team-row">Alerts: {{ member.AlertCount }}</div>
    <div class="team-row">Care Plans: {{ member.CarePlanCount }}</div>
  </div>
</div>-->
