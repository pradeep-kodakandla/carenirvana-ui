/* Layout */
.auth-details {
  width: 100%;
}

/*.grid {
  display: grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: 14px;
}*/

/* Cards */
.section-card, .sub-card {
  border-radius: 10px;
  padding: 5px;
  background: #fff;
  margin-bottom: 14px;
}

.section-header {
  display: flex;
  align-items: center;
  gap: 10px;
  background: transparent;
  border-bottom: 2px solid #007bff;
  margin: -5px -5px 14px;
  padding: 14px 16px 10px;
  border-radius: 0;
}

.section-title {
  font-weight: 700;
  font-size: 14px;
  color: #1E293B;
  letter-spacing: 0.1px;
  flex: 1;
}

/* Section leading icon (Material icon) */
.section-icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 22px;
  height: 22px;
  color: #007bff;
  flex-shrink: 0;
}

  .section-icon mat-icon {
    font-size: 22px;
    width: 22px;
    height: 22px;
  }

.sub-title {
  font-weight: 700;
  font-size: 13px;
  margin: 6px 0 10px;
}

/* ============ Outlined Floating Field ============ */
.ff-outline {
  position: relative;
  border: 1.5px solid #D1D5DB;
  border-radius: 10px;
  background: #fff;
  padding: 1px 1px 1px;
  align-self: start;
  height: fit-content;
  transition: border-color 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;
}

  /* Hover — lift + accent border */
  .ff-outline:hover {
    border-color: #80bfff;
    background: #f5f9ff;
    box-shadow: 0 2px 8px rgba(0, 123, 255, 0.06);
  }

  /* Focus-within — active ring */
  .ff-outline:focus-within {
    border-color: #007bff;
    box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.12);
    background: #f7fbff;
  }

    .ff-outline:focus-within .ff-float-label {
      color: #0062cc;
    }

  .ff-outline.ff-disabled {
    opacity: 0.55;
    pointer-events: none;
    background: #F9FAFB;
  }

  .ff-outline.ff-invalid {
    border-color: #EF4444;
  }

    .ff-outline.ff-invalid:focus-within {
      border-color: #EF4444;
      box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.1);
    }

    .ff-outline.ff-invalid .ff-float-label {
      color: #DC2626;
    }

.ff-float-label {
  position: absolute;
  top: -9px;
  left: 10px;
  padding: 0 6px;
  background: #fff;
  font-size: 11.5px;
  font-weight: 700;
  color: #64748B;
  line-height: 18px;
  transition: color 0.2s ease;
}

/* body holds the actual control */
.ff-body {
  display: flex;
  align-items: center;
  min-height: 34px;
}

/* Native inputs inside outlined */
.ff-input {
  width: 100%;
  border: 0;
  outline: none;
  background: transparent;
  font-size: 12px;
  line-height: 22px;
  padding-left: 5px;
}

  /* Consistent height for non-textarea inputs */
  .ff-input:not(.ff-textarea) {
    height: 34px;
  }

.ff-textarea {
  resize: vertical;
  min-height: 72px;
  padding-top: 5px;
}

/* Required asterisk */
.req-star {
  color: #EF4444;
  margin-left: 4px;
  font-weight: 800;
}

/* Your UI controls should fill the width */
.ff-ui {
  display: block;
  width: 100%;
}

/* Try to remove double-borders if ui-smart-dropdown / ui-datetime-picker render their own border */
:host ::ng-deep .ff-outline ui-smart-dropdown,
:host ::ng-deep .ff-outline ui-datetime-picker {
  width: 100%;
  display: block;
}

  :host ::ng-deep .ff-outline ui-smart-dropdown input,
  :host ::ng-deep .ff-outline ui-datetime-picker input {
    border: 0 !important;
    outline: none !important;
    box-shadow: none !important;
    font-size: 14px !important;
    background: transparent !important;
    height: 34px !important;
    line-height: 22px !important;
  }

/* Checkbox row (keep clean) */
.ff-checkbox {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 6px 10px;
  align-self: start;
  border-radius: 8px;
  transition: background 0.15s ease;
}

  .ff-checkbox:hover {
    background: #f0f7ff;
  }

  .ff-checkbox .form-check-input {
    margin: 0;
    margin-top: 1px;
  }

  .ff-checkbox .form-check-label {
    margin: 0;
    cursor: pointer;
  }

/* Errors */
.ff-error {
  color: #EF4444;
  font-size: 12px;
  margin-top: 6px;
}

.form-outline .ff-ui,
.field-box .ff-ui {
  border: 0 !important;
}

.ff-ui {
  border: 0 !important;
  box-shadow: none !important;
}

/* Subsection card as an outlined block with floating title */
/*.sub-card {
  position: relative;
  padding-top: 18px;*/ /* space for floating label */
/*}*/

.sub-float-label {
  position: absolute;
  top: -9px;
  left: 12px;
  padding: 0 8px;
  background: #fff;
  font-size: 12px;
  font-weight: 700;
  color: #64748B;
  line-height: 18px;
}


.case-savebar {
  display: flex;
  justify-content: flex-end;
  padding: 10px 0;
}


/* Responsive grid: max 5 columns, auto adjusts down on smaller screens */
/*
  IMPORTANT:
  The wider app can have global CSS that also defines a `.grid` class.
  To guarantee our form always renders with 4 fields per row, we increase
  specificity and use !important for the core grid properties.
*/
.auth-details .grid {
  display: grid !important;
  gap: 14px;
  /* Prevent tall controls (e.g., textarea) from stretching other fields in the same row */
  align-items: start;
  grid-auto-flow: row;
  /* default: 4 columns */
  grid-template-columns: repeat(4, minmax(0, 1fr)) !important;
}

/* Column span helpers */
.ff-span-2 {
  grid-column: span 2;
}

.ff-span-3 {
  grid-column: span 3;
}

/* drop to 4 */
@media (max-width: 1400px) {
  .auth-details .grid {
    grid-template-columns: repeat(4, minmax(0, 1fr)) !important;
  }
}

/* drop to 3 */
@media (max-width: 1200px) {
  .auth-details .grid {
    grid-template-columns: repeat(3, minmax(0, 1fr)) !important;
  }
}

/* drop to 2 */
@media (max-width: 900px) {
  .auth-details .grid {
    grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
  }
}

/* drop to 1 */
@media (max-width: 600px) {
  .auth-details .grid {
    grid-template-columns: repeat(1, minmax(0, 1fr)) !important;
  }
}


/* Make section header clickable like accordion */
.section-header {
  cursor: pointer;
  user-select: none;
  transition: background 0.15s ease;
}

  .section-header:hover {
    background: rgba(0, 123, 255, 0.03);
  }

  .section-header:focus {
    outline: 2px solid rgba(59, 130, 246, 0.35);
    outline-offset: 2px;
  }

/* Chevron icon — sits on the right via flex order */
.section-acc-icon {
  display: inline-flex;
  width: 22px;
  height: 22px;
  align-items: center;
  justify-content: center;
  margin-left: auto;
  font-size: 18px;
  transition: transform 200ms ease;
  color: #94A3B8;
  flex-shrink: 0;
  order: 99; /* push to the far right */
}

  .section-acc-icon.open {
    transform: rotate(90deg);
    color: #007bff;
  }


/* ── Duplicate selector intentional: extra specificity for changed/selected states ── */
.ff-outline {
  position: relative;
  border: 1.5px solid #D1D5DB;
  border-radius: 10px;
  background: #fff;
  transition: box-shadow .2s ease, border-color .2s ease, background .2s ease;
}

/* Unchanged baseline hover */
.ff-unchanged:hover {
  border-color: #80bfff;
  background: #f5f9ff;
}

/* CHANGED: subtle accent cue */
.ff-changed {
  border-color: #80bfff;
  background: #f7fbff;
}

  .ff-changed::after {
    content: "";
    position: absolute;
    top: 10px;
    right: 10px;
    width: 7px;
    height: 7px;
    border-radius: 50%;
    background: #007bff;
    opacity: .85;
  }

/* SELECTED: active emphasis */
.ff-selected {
  border-color: #007bff;
  box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.12);
  background: #f0f7ff;
}

  .ff-selected::before {
    content: "";
    position: absolute;
    left: -1px;
    top: 10px;
    bottom: 10px;
    width: 3px;
    border-radius: 3px;
    background: #007bff;
  }

  .ff-selected.ff-changed {
    background: #e6f2ff;
  }


.edited-badge {
  display: inline-flex;
  align-items: center;
  margin-left: 8px;
  padding: 2px 8px;
  border-radius: 999px;
  font-size: 11px;
  font-weight: 600;
  line-height: 1;
  border: 1px solid rgba(0, 123, 255, 0.22);
  background: rgba(0, 123, 255, 0.10);
  color: #0056b3;
  vertical-align: middle;
  transform: translateY(-1px);
}


/* Wrap a field + its validation message so error never flows beside */
.ff-field {
  display: flex;
  flex-direction: column;
  align-items: stretch;
  width: 100%;
  min-width: 0;
}

/* Ensure checkbox stays on one line and error below */
.ff-checkbox, .ff-outline {
  width: 100%;
}


/* Make a field span the full row */
.ff-span-all {
  grid-column: 1 / -1;
}

/* Search bar styling to match screenshot */
.ff-searchbar {
  display: flex;
  align-items: center;
  gap: 8px;
  /*  border: 1px solid #d0d0d0;
*/ border-radius: 10px;
  padding: 10px 12px;
  background: #fff;
  min-height: 44px;
}

  .ff-searchbar:focus-within {
    border-color: #80bfff;
    box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.1);
  }

.ff-search-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 22px;
  height: 22px;
  color: #6b7280;
}

  .ff-search-icon svg {
    fill: currentColor;
  }

.ff-search-input {
  width: 100%;
  border: none;
  outline: none;
  background: transparent;
  font-size: 12px;
}

  .ff-search-input::-webkit-search-cancel-button {
    -webkit-appearance: none;
  }
/* =========================
   Repeat groups (+ / −)
========================= */
.ff-repeat-wrap {
  display: flex;
  flex-direction: column;
  gap: 12px;
  margin-bottom: 10px;
}

.ff-repeat-group {
  /*  border: 1px dashed #e1e5ee;
  border-radius: 12px;
  padding: 12px;*/
  background: #fcfcfd;
}

.ff-repeat-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 10px;
}

.ff-repeat-title {
  font-size: 12px;
  font-weight: 700;
  color: #374151;
  letter-spacing: .2px;
}

.auth-details .grid.ff-repeat-grid {
  /* 4 fields per row + an actions column at the end */
  grid-template-columns: repeat(4, minmax(0, 1fr)) auto !important;
}

/* Keep responsiveness: repeat(N) + auto actions col */
@media (max-width: 1400px) {
  .auth-details .grid.ff-repeat-grid {
    grid-template-columns: repeat(4, minmax(0, 1fr)) auto !important;
  }
}

@media (max-width: 1200px) {
  .auth-details .grid.ff-repeat-grid {
    grid-template-columns: repeat(3, minmax(0, 1fr)) auto !important;
  }
}

@media (max-width: 900px) {
  .auth-details .grid.ff-repeat-grid {
    grid-template-columns: repeat(2, minmax(0, 1fr)) auto !important;
  }
}

@media (max-width: 600px) {
  .auth-details .grid.ff-repeat-grid {
    grid-template-columns: repeat(1, minmax(0, 1fr)) auto !important;
  }
}

/* In repeat grids, a full-width field should NOT cover the actions column */
.auth-details .grid.ff-repeat-grid .ff-span-all {
  grid-column: 1 / -2;
}

.ff-repeat-cell {
  display: flex;
  align-items: flex-start;
  justify-content: flex-end;
  gap: 8px;
  padding-top: 1px;
  /* Put the actions in the last (auto) column.
     Because this cell is the LAST DOM node in the grid, it naturally lands
     at the end of the final row. */
  grid-column: -1;
  align-self: end;
  justify-self: end;
}

/* Don't let lookup components force extra width */
:host ::ng-deep ui-smart-lookup,
:host ::ng-deep ui-smart-lookup * {
  min-width: 0;
}

/* Subsection polish: clearer grouping + indentation for nested levels */
/*.sub-card {
  margin-top: 12px;
}*/

.sub-card.sub-nested {
  margin-left: 12px;
  border-left: 3px dashed #e1e5ee;
}

.ff-repeat-btn {
  width: 34px;
  height: 34px;
  border-radius: 10px;
  border: 1px solid #d7dde5;
  background: #fff;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 18px;
  font-weight: 800;
  line-height: 1;
  user-select: none;
  transition: box-shadow .15s ease, border-color .15s ease, transform .05s ease;
}

  .ff-repeat-btn:hover {
    border-color: #aeb6c2;
    box-shadow: 0 2px 10px rgba(17,24,39,.06);
  }

  .ff-repeat-btn:active {
    transform: translateY(1px);
  }

  .ff-repeat-btn:disabled {
    opacity: .45;
    cursor: not-allowed;
    box-shadow: none;
  }

  .ff-repeat-btn.danger {
    border-color: rgba(220,53,69,.32);
  }

    .ff-repeat-btn.danger:hover {
      border-color: rgba(220,53,69,.6);
    }

/* Nested subsection visual hint */
.sub-card.sub-nested {
  border-style: dashed;
  background: #fff;
  margin-top: 14px;
}

/* Enrollment cards — compact horizontal layout */
.selection-container {
  display: flex;
  flex-direction: column;
  gap: 10px;
  /*  padding: 0 8px 8px;
*/
}

.rounded-box {
  border: 1.5px solid #E2E5EA;
  border-radius: 10px;
  padding: 10px 16px;
  background: #fff;
  cursor: pointer;
  transition: all .2s ease;
}

  .rounded-box:hover {
    border-color: #80bfff;
    background: #f5f9ff;
    box-shadow: 0 2px 10px rgba(0, 123, 255, 0.08);
    transform: translateY(-1px);
  }

  .rounded-box.selected {
    border-color: #007bff;
    box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.12), 0 2px 8px rgba(0, 123, 255, 0.08);
    background: #f0f7ff;
  }

    .rounded-box.selected .label.key {
      color: #0056b3;
    }

/* Key-value pairs — single-row inline flow */
.pairs {
  display: flex;
  flex-wrap: wrap;
  gap: 4px 20px;
  align-items: center;
}

.pair-row {
  display: inline-flex;
  align-items: center;
  gap: 5px;
  white-space: nowrap;
}

  /* Separator dot between pairs (except first) */
  .pair-row + .pair-row::before {
    content: "·";
    color: #CBD5E1;
    font-weight: 800;
    font-size: 14px;
    margin-right: 2px;
  }

.label {
  font-size: 12px;
  line-height: 1.3;
}

  .label.key {
    font-weight: 700;
    color: #64748B;
    font-size: 11px;
    text-transform: uppercase;
    letter-spacing: 0.3px;
  }

  .label.value {
    color: #1E293B;
    font-weight: 600;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    max-width: 180px;
  }


/* First-time guidance message */
.ff-hint {
  display: flex;
  gap: 10px;
  align-items: flex-start;
  padding: 10px 14px;
  border: 1px solid #cce5ff;
  border-left: 4px solid #007bff;
  border-radius: 10px;
  background: #f0f7ff;
  font-size: 12px;
  color: #1E293B;
  width: 100%;
}


/* =========================
   Template action buttons
========================= */
.ff-buttonbar {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  padding: 10px 14px 14px;
}

.ff-action-btn {
  height: 34px;
  padding: 0 14px;
  border-radius: 10px;
  border: none;
  background: linear-gradient(135deg, #0062cc, #007bff);
  color: white;
  cursor: pointer;
  font-size: 12px;
  font-weight: 700;
  line-height: 1;
  box-shadow: 0 2px 6px rgba(0, 98, 204, 0.2);
  transition: box-shadow .15s ease, transform .05s ease;
}

  .ff-action-btn:hover {
    box-shadow: 0 4px 12px rgba(0, 98, 204, 0.3);
    transform: translateY(-1px);
  }

  .ff-action-btn:active {
    transform: translateY(1px);
  }

  .ff-action-btn:disabled {
    opacity: .45;
    cursor: not-allowed;
    box-shadow: none;
  }


/* Section-level validation (keeps messages ABOVE fields, not behind them) */
.auth-details .validation-messages {
  position: relative;
  z-index: 3;
  margin: 8px 0 12px;
  padding: 8px 12px;
  border-left: 3px solid #dc3545;
  background: #fff;
  border-radius: 8px;
}

  .auth-details .validation-messages .text-danger {
    position: relative;
    z-index: 4;
    display: block;
    padding-left: 40px;
    white-space: normal;
    overflow-wrap: anywhere;
    line-height: 1.25;
  }

/* Ensure grid never overlaps the messages */
.auth-details .grid {
  position: relative;
  z-index: 1;
}





/* ================================================================
   PROVIDER CARDS — matches screenshot design
   ================================================================ */

/* "Add Provider" button in section header */
.pc-add-btn {
  display: inline-flex;
  align-items: center;
  gap: 5px;
  padding: 5px 14px;
  border-radius: 8px;
  border: none;
  background: linear-gradient(135deg, #0062cc, #007bff);
  color: #fff;
  font-size: 12px;
  font-weight: 700;
  cursor: pointer;
  box-shadow: 0 2px 8px rgba(0,98,204,.2);
  transition: all .15s;
  margin-left: auto;
  order: 98;
  white-space: nowrap;
  z-index: 1;
}
.pc-add-btn:hover:not(:disabled) { box-shadow: 0 4px 14px rgba(0,98,204,.35); transform: translateY(-1px); }
.pc-add-btn:disabled { opacity:.4; cursor:not-allowed; }
.pc-add-btn mat-icon { font-size:17px; width:17px; height:17px; }

/* 2-per-row grid */
.pc-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 20px;
  padding: 8px 10px 18px;
}
@media (max-width:1100px) { .pc-grid { grid-template-columns:1fr; } }

/* Each provider item wrapper */
.pc { display: flex; flex-direction: column; }

/* Role label ABOVE the card — uppercase small gray */
.pc-role-label {
  font-size: 11px;
  font-weight: 700;
  letter-spacing: 0.8px;
  text-transform: uppercase;
  color: #64748B;
  padding: 0 2px 6px;
}

/* The card itself */
.pc-card {
  border: 1px solid #E2E5EA;
  border-radius: 10px;
  background: #fff;
  padding: 16px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  transition: border-color .2s, box-shadow .2s;
}
.pc-card:hover {
  border-color: #cbd5e1;
  box-shadow: 0 2px 12px rgba(0,0,0,.05);
}

/* Top row: role dropdown + close */
.pc-card-top {
  display: flex;
  align-items: flex-start;
  gap: 10px;
}
.pc-role-wrap { flex: 1; min-width: 0; max-width: 260px; }

/* Close/remove button */
.pc-close {
  width: 28px;
  height: 28px;
  border: none;
  background: transparent;
  color: #94A3B8;
  font-size: 20px;
  line-height: 1;
  cursor: pointer;
  border-radius: 6px;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  margin-left: auto;
  transition: all .12s;
}
.pc-close:hover:not(:disabled) { background: #FEF2F2; color: #EF4444; }
.pc-close:disabled { opacity:.3; cursor:not-allowed; }

/* Search row */
.pc-search { display: flex; flex-direction: column; gap: 3px; }

/* Action buttons row */
.pc-actions {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}
.pc-action-btn {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  height: 28px;
  padding: 0 10px;
  border-radius: 6px;
  border: 1px solid #93C5FD;
  background: #EFF6FF;
  color: #1D4ED8;
  font-size: 11px;
  font-weight: 600;
  cursor: pointer;
  white-space: nowrap;
  transition: all .12s;
}
.pc-action-btn:hover:not(:disabled) { background: #DBEAFE; border-color: #3B82F6; }
.pc-action-btn:disabled { opacity:.4; cursor:not-allowed; }

/* ── FIELD GRID — simple label + input (NO floating outlines) ── */
.pc-fields {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 10px 14px;
}
@media (max-width:1300px) { .pc-fields { grid-template-columns: repeat(2, 1fr); } }
@media (max-width:600px) { .pc-fields { grid-template-columns: 1fr; } }

.pc-cell {
  display: flex;
  flex-direction: column;
  gap: 2px;
  min-width: 0;
}
.pc-cell--wide { grid-column: 1 / -1; }
.pc-cell--check { justify-content: flex-end; }

/* Simple label — small, gray, above the input */
.pc-lbl {
  font-size: 11px;
  font-weight: 600;
  color: #64748B;
  letter-spacing: 0.2px;
  line-height: 1.3;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.pc-lbl .req-star { color: #EF4444; margin-left: 2px; }

/* Plain input — no outline box, just bottom border */
.pc-input {
  width: 100%;
  height: 32px;
  padding: 4px 8px;
  border: none;
  border-bottom: 1.5px solid #E2E5EA;
  background: transparent;
  font-size: 13px;
  color: #1E293B;
  outline: none;
  border-radius: 0;
  transition: border-color .15s;
}
.pc-input:focus { border-bottom-color: #3B82F6; }
.pc-input:disabled { background: #F8FAFC; color: #94A3B8; }
.pc-input::placeholder { color: #CBD5E1; }
.pc-textarea {
  height: auto;
  min-height: 48px;
  resize: vertical;
  border: 1.5px solid #E2E5EA;
  border-radius: 6px;
  padding: 6px 8px;
}
.pc-textarea:focus { border-color: #3B82F6; }

/* Dropdown inside card — override to match flat style */
.pc-dropdown { width: 100%; }
.pc-search-input { width: 100%; }

/* Error text */
.pc-error {
  font-size: 11px;
  color: #EF4444;
  margin-top: 1px;
}


/* ================================================================
   PROVIDER INFO CARD — display-only card after search selection
   ================================================================ */

/* Bordered role dropdown wrapper */
.pc-role-bordered {
  border: 1.5px solid #D1D5DB;
  border-radius: 8px;
/*  padding: 6px 10px;
*/  background: #fff;
  transition: border-color .2s;
}
.pc-role-bordered:focus-within {
  border-color: #007bff;
  box-shadow: 0 0 0 3px rgba(0,123,255,.10);
}

/* Bordered search wrapper */
.pc-search-bordered {
  border: 1.5px solid #D1D5DB;
  border-radius: 8px;
/*  padding: 6px 10px;
*/  background: #fff;
  transition: border-color .2s;
}
.pc-search-bordered:focus-within {
  border-color: #007bff;
  box-shadow: 0 0 0 3px rgba(0,123,255,.10);
}

/* Delete icon in close / clear buttons */
.pc-delete-icon {
  font-size: 18px !important;
  width: 18px !important;
  height: 18px !important;
}

/* Filled state: accent left border */
.pc-card--filled {
  border-left: 3px solid #22C55E;
  background: #F8FDF9;
}
.pc-card--filled:hover {
  border-color: #cbd5e1;
  border-left-color: #22C55E;
}

/* Out-of-Network filled state */
.pc-card--oon {
  border-left-color: #F59E0B;
  background: #FFFDF5;
}
.pc-card--oon:hover {
  border-left-color: #F59E0B;
}

/* Empty state placeholder */
.pc-empty-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
/*  gap: 8px;
  padding: 24px 16px;*/
  color: #94A3B8;
  font-size: 12px;
  font-weight: 500;
}
.pc-empty-icon {
  font-size: 32px !important;
  width: 32px !important;
  height: 32px !important;
  color: #CBD5E1;
}

/* Provider info block */
.pc-info {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.pc-info--editing {
  opacity: 0.7;
  background: #f5f5f5;
  border-radius: 6px;
  padding: 8px 10px;
  border-left: 3px solid #90a4ae;
  font-size: 0.92em;
}

/* Header row: name + badge + clear btn */
.pc-info-header {
  display: flex;
  align-items: flex-start;
  gap: 10px;
}

.pc-info-name-row {
  flex: 1;
  display: flex;
  align-items: center;
  flex-wrap: wrap;
  gap: 8px;
  min-width: 0;
}

.pc-info-name {
  font-size: 14px;
  font-weight: 700;
  color: #1D4ED8;
  letter-spacing: 0.1px;
  cursor: default;
  line-height: 1.3;
}

/* Network status badge */
.pc-network-badge {
  display: inline-flex;
  align-items: center;
  gap: 5px;
  padding: 2px 10px;
  border-radius: 999px;
  font-size: 11px;
  font-weight: 600;
  line-height: 1.4;
  white-space: nowrap;
  flex-shrink: 0;
}

.pc-badge-dot {
  width: 7px;
  height: 7px;
  border-radius: 50%;
  flex-shrink: 0;
}

.pc-badge--in {
  background: #ECFDF5;
  color: #065F46;
  border: 1px solid #A7F3D0;
}
.pc-badge--in .pc-badge-dot {
  background: #10B981;
}

.pc-badge--out {
  background: #FEF3C7;
  color: #92400E;
  border: 1px solid #FDE68A;
}
.pc-badge--out .pc-badge-dot {
  background: #F59E0B;
}

/* Clear / remove provider button (inside info card) */
.pc-info-clear {
  width: 28px;
  height: 28px;
  border: none;
  background: transparent;
  color: #94A3B8;
  font-size: 18px;
  line-height: 1;
  cursor: pointer;
  border-radius: 6px;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  transition: all .12s;
}
.pc-info-clear:hover {
  background: #FEF2F2;
  color: #EF4444;
}

/* Detail lines */
.pc-info-details {
  display: flex;
  flex-direction: column;
  gap: 3px;
  padding-left: 1px;
}

.pc-info-line {
  font-size: 12px;
  color: #475569;
  line-height: 1.5;
  display: flex;
  align-items: center;
  flex-wrap: wrap;
  gap: 4px;
}

.pc-info-line strong {
  font-weight: 600;
  color: #334155;
}

.pc-info-sep {
  color: #CBD5E1;
  font-weight: 800;
  font-size: 14px;
}

.pc-info-org {
  color: #64748B;
  font-style: italic;
  font-size: 11.5px;
}

.pc-info-addr {
  color: #64748B;
  font-size: 11.5px;
}

/* Out-of-Network warning banner */
.pc-oon-warning {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  border-radius: 8px;
  background: #FFFBEB;
  border: 1px solid #FDE68A;
  font-size: 11.5px;
  color: #92400E;
  line-height: 1.4;
  margin-top: 4px;
}

.pc-oon-icon {
  font-size: 16px !important;
  width: 16px !important;
  height: 16px !important;
  color: #F59E0B;
  flex-shrink: 0;
}


/* =========================
   FIX: Auth Case/Auth Type dropdown behind next section
   Cause: subsequent section-cards create a higher stacking context than the first card;
          dropdown panel z-index can't escape its ancestor stacking context.
   Fix: lift the *entire* section-card while any child control is focused/open.
========================= */

/* Ensure each card participates in stacking and can be lifted */
.section-card {
  position: relative;
  z-index: 0;
}

  /* When interacting with any control inside a card, lift that card above siblings */
  .section-card:focus-within {
    z-index: 2000;
  }

/* Extra safety: some dropdown panels attach under their host; lift the outline too */
.ff-outline:focus-within {
  z-index: 2500;
  border-color: #007bff;
  box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.12);
  background: #f7fbff;
}


/* ================================================================
   DIAGNOSIS / ICD CARDS — mirrors Provider card design
   ================================================================ */

/* "Add Diagnosis" button in section header */
.dc-add-btn {
  display: inline-flex;
  align-items: center;
  gap: 5px;
  padding: 5px 14px;
  border-radius: 8px;
  border: none;
  background: linear-gradient(135deg, #7C3AED, #8B5CF6);
  color: #fff;
  font-size: 12px;
  font-weight: 700;
  cursor: pointer;
  box-shadow: 0 2px 8px rgba(124,58,237,.2);
  transition: all .15s;
  margin-left: auto;
  order: 98;
  white-space: nowrap;
  z-index: 1;
}
.dc-add-btn:hover:not(:disabled) { box-shadow: 0 4px 14px rgba(124,58,237,.35); transform: translateY(-1px); }
.dc-add-btn:disabled { opacity:.4; cursor:not-allowed; }
.dc-add-btn mat-icon { font-size:17px; width:17px; height:17px; }

/* 2-per-row grid (matches provider layout) */
.dc-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 20px;
  padding: 8px 10px 18px;
}
@media (max-width:1100px) { .dc-grid { grid-template-columns:1fr; } }

/* Each diagnosis item wrapper */
.dc { display: flex; flex-direction: column; }

/* The card itself */
.dc-card {
  border: 1.5px solid #E2E5EA;
  border-radius: 12px;
  background: #fff;
  padding: 16px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  transition: border-color .2s, box-shadow .2s, background .2s;
}
.dc-card:hover {
  border-color: #cbd5e1;
  box-shadow: 0 2px 12px rgba(0,0,0,.05);
}

/* Filled state: purple left border accent */
.dc-card--filled {
  border-left: 3.5px solid #8B5CF6;
  background: #FAFAFE;
}
.dc-card--filled:hover {
  border-color: #cbd5e1;
  border-left-color: #8B5CF6;
}

/* Primary card: stronger accent */
.dc-card--primary.dc-card--filled {
  border-left-color: #7C3AED;
  background: #F5F3FF;
  box-shadow: 0 0 0 1px rgba(124,58,237,.08);
}

/* Top row: code-type + primary + edit + delete */
.dc-card-top {
  display: flex;
  align-items: center;
  gap: 10px;
}

/* Code Type dropdown wrapper */
.dc-codetype-wrap {
  flex: 1;
  min-width: 0;
  max-width: 220px;
  border: 1.5px solid #D1D5DB;
  border-radius: 8px;
  background: #fff;
  transition: border-color .2s;
}
.dc-codetype-wrap:focus-within {
  border-color: #8B5CF6;
  box-shadow: 0 0 0 3px rgba(139,92,246,.10);
}

/* Dropdown and search inside card */
.dc-dropdown { width: 100%; }
.dc-search-input { width: 100%; }

/* Primary radio button */
.dc-primary-radio {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 4px 12px;
  border-radius: 20px;
  border: 1.5px solid #D1D5DB;
  background: #fff;
  cursor: pointer;
  transition: all .15s ease;
  white-space: nowrap;
  flex-shrink: 0;
}
.dc-primary-radio:hover {
  border-color: #8B5CF6;
  background: #F5F3FF;
}
.dc-primary-radio--active {
  border-color: #7C3AED;
  background: #EDE9FE;
}
.dc-primary-radio input[type="radio"] {
  width: 14px;
  height: 14px;
  margin: 0;
  accent-color: #7C3AED;
  cursor: pointer;
}
.dc-primary-label {
  font-size: 11px;
  font-weight: 700;
  color: #64748B;
  letter-spacing: 0.2px;
  transition: color .15s;
}
.dc-primary-radio--active .dc-primary-label {
  color: #7C3AED;
}

/* ── Top action icons (edit + delete) ── */
.dc-top-actions {
  display: flex;
  align-items: center;
  gap: 2px;
  flex-shrink: 0;
  margin-left: auto;
}

.dc-top-btn {
  width: 30px;
  height: 30px;
  border: none;
  background: transparent;
  color: #94A3B8;
  cursor: pointer;
  border-radius: 6px;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all .12s;
}
.dc-top-btn--edit:hover { background: #EFF6FF; color: #3B82F6; }
.dc-top-btn--delete:hover { background: #FEF2F2; color: #EF4444; }

.dc-action-icon {
  font-size: 17px !important;
  width: 17px !important;
  height: 17px !important;
}

/* ── Search row with optional Cancel button ── */
.dc-search-row {
  display: flex;
  align-items: center;
  gap: 8px;
}
.dc-search-row .dc-search { flex: 1; min-width: 0; }

/* Search row */
.dc-search { display: flex; flex-direction: column; gap: 3px; }

/* Bordered search wrapper */
.dc-search-bordered {
  border: 1.5px solid #D1D5DB;
  border-radius: 8px;
  background: #fff;
  transition: border-color .2s;
}
.dc-search-bordered:focus-within {
  border-color: #8B5CF6;
  box-shadow: 0 0 0 3px rgba(139,92,246,.10);
}

/* Cancel button (edit mode) */
.dc-cancel-btn {
  display: inline-flex;
  align-items: center;
  height: 32px;
  padding: 0 14px;
  border-radius: 8px;
  border: 1.5px solid #D1D5DB;
  background: #fff;
  color: #64748B;
  font-size: 12px;
  font-weight: 600;
  cursor: pointer;
  white-space: nowrap;
  flex-shrink: 0;
  transition: all .12s;
}
.dc-cancel-btn:hover {
  border-color: #94A3B8;
  background: #F8FAFC;
  color: #334155;
}

/* Empty state placeholder */
.dc-empty-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  color: #94A3B8;
  font-size: 12px;
  font-weight: 500;
  padding: 8px 0;
}
.dc-empty-icon {
  font-size: 28px !important;
  width: 28px !important;
  height: 28px !important;
  color: #CBD5E1;
}

/* ── ICD Info Display Block ── */
.dc-info {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

/* ICD Code + Description SIDE BY SIDE */
.dc-info-inline {
  display: flex;
  align-items: center;
  flex-wrap: wrap;
  gap: 10px;
}

/* ICD Code — prominent purple badge */
.dc-icd-code {
  display: inline-flex;
  align-items: center;
  padding: 3px 12px;
  border-radius: 6px;
  background: linear-gradient(135deg, #7C3AED, #6D28D9);
  color: #fff;
  font-size: 13px;
  font-weight: 800;
  letter-spacing: 0.5px;
  font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
  line-height: 1.4;
  white-space: nowrap;
  flex-shrink: 0;
}

/* ICD Description — right next to code */
.dc-icd-desc {
  font-size: 13px;
  color: #334155;
  line-height: 1.4;
  font-weight: 500;
  flex: 1;
  min-width: 0;
}

/* Primary badge — simple chip, no star */
.dc-primary-badge {
  display: inline-flex;
  align-items: center;
  padding: 2px 10px;
  border-radius: 999px;
  font-size: 11px;
  font-weight: 700;
  line-height: 1.4;
  white-space: nowrap;
  background: #EDE9FE;
  color: #7C3AED;
  border: 1px solid #DDD6FE;
  flex-shrink: 0;
}

/* Code Type meta line */
.dc-info-meta {
  display: flex;
  align-items: center;
  gap: 6px;
  padding-left: 2px;
  font-size: 11.5px;
}
.dc-meta-label {
  font-weight: 600;
  color: #94A3B8;
  text-transform: uppercase;
  letter-spacing: 0.3px;
}
.dc-meta-value {
  color: #64748B;
  font-weight: 600;
}


/* ═══════════════════════════════════════════════════════════
   SERVICE / PROCEDURE CARD STYLES
   ═══════════════════════════════════════════════════════════ */

/* Add Procedure button (section header) */
.sc-add-btn {
  display: inline-flex; align-items: center; gap: 4px;
  background: linear-gradient(135deg, #059669 0%, #10b981 100%);
  color: #fff; border: none; border-radius: 20px;
  padding: 5px 14px; font-size: 12.5px; font-weight: 600;
  cursor: pointer; transition: all .2s;
  margin-left: auto;
}
.sc-add-btn:hover:not(:disabled) { box-shadow: 0 4px 14px rgba(5,150,105,.35); transform: translateY(-1px); }
.sc-add-btn:disabled { opacity: .4; cursor: not-allowed; }
.sc-add-btn mat-icon { font-size: 17px; width: 17px; height: 17px; }

/* Service card list — full width stacked cards */
.sc-list {
  display: flex;
  flex-direction: column;
  gap: 14px;
  padding: 4px 0;
}

/* Individual service card */
.sc-card {
  background: #fff;
  border: 1px solid #e2e8f0;
  border-radius: 10px;
  padding: 14px 16px;
  box-shadow: 0 1px 4px rgba(0,0,0,.04);
  transition: border-color .2s, box-shadow .2s;
  border-left: 4px solid #e2e8f0;
  overflow: visible;
  position: relative;
}
.sc-card--filled {
  border-left-color: #059669;
  box-shadow: 0 2px 8px rgba(5,150,105,.08);
}
.sc-card:hover {
  box-shadow: 0 4px 12px rgba(0,0,0,.06);
}

/* Card top bar */
.sc-card-top {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 10px;
}
.sc-number {
  font-size: 13px;
  font-weight: 700;
  color: #059669;
  letter-spacing: 0.3px;
}

/* Procedure identity display */
.sc-identity {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 8px 12px;
  background: linear-gradient(135deg, #ecfdf5 0%, #f0fdf4 100%);
  border-radius: 8px;
  margin-bottom: 12px;
  border: 1px solid #d1fae5;
}
.sc-identity--muted {
  opacity: .65;
  background: #f8fafc;
  border-color: #e2e8f0;
}

/* Procedure code badge */
.sc-code {
  display: inline-flex;
  align-items: center;
  background: linear-gradient(135deg, #059669, #10b981);
  color: #fff;
  font-weight: 700;
  font-size: 12.5px;
  padding: 4px 10px;
  border-radius: 6px;
  letter-spacing: 0.5px;
  white-space: nowrap;
  min-width: fit-content;
  font-family: 'JetBrains Mono', 'Fira Code', monospace;
}

/* Procedure description */
.sc-desc {
  font-size: 13px;
  font-weight: 600;
  color: #334155;
  line-height: 1.3;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Search area */
.sc-search {
  flex: 1;
  border: 1px solid #d1d5db;
  border-radius: 8px;
  background: #f9fafb;
  position: relative;
  z-index: 10;
  overflow: visible;
}
.sc-search-input { width: 100%; }

/* Empty state */
.sc-empty {
  display: flex;
  align-items: center;
  gap: 6px;
  color: #94a3b8;
  font-size: 13px;
  padding: 10px 0;
}
.sc-empty-icon { font-size: 18px; width: 18px; height: 18px; color: #cbd5e1; }

/* Body fields grid — compact multi-column layout */
.sc-body {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
  gap: 8px 10px;
  padding-top: 4px;
  border-top: 1px solid #f1f5f9;
}
.sc-body .ff-outline {
  min-height: 42px;
}
.sc-body .ff-float-label {
  font-size: 10.5px;
}
.sc-body .ff-input {
  font-size: 13px;
  padding: 2px 6px;
}

/* Field sizing hints */
.sc-field--num { max-width: 110px; }
.sc-field--select { min-width: 140px; }
.sc-field--date { min-width: 160px; }
.sc-field--search { grid-column: span 2; }

@media (max-width: 900px) {
  .sc-body { grid-template-columns: repeat(2, 1fr); }
  .sc-field--search { grid-column: span 2; }
}
@media (max-width: 600px) {
  .sc-body { grid-template-columns: 1fr; }
  .sc-field--search { grid-column: span 1; }
}
