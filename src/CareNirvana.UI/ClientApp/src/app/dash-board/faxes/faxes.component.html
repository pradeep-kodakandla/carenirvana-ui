<div class="p-4 max-w-4xl mx-auto">
    <h2 class="text-xl font-semibold mb-3">PDF OCR Reader</h2>

    <input type="file" accept="application/pdf" (change)="onFileChosen($event)" />

    <div *ngIf="isProcessing" class="mt-4">
        <div>Processing… {{ (progress * 100) | number:'1.0-0' }}%</div>
        <div style="height: 8px; background: #eee; border-radius: 4px;">
            <div [style.width.%]="progress * 100" style="height: 8px; border-radius: 4px; background: #3b82f6;"></div>
        </div>
    </div>

    <p *ngIf="error" class="mt-4 text-red-600">{{ error }}</p>

    <!-- ⬇️ NEW: Show only parsed fields -->
    <!-- show the card only if we have parsed fields -->
    <div *ngIf="student as s" class="mt-6 p-4" style="border:1px solid #e5e7eb; border-radius: 8px;">
        <h3 class="text-lg font-medium mb-4">Details</h3>
        <div class="grid md:grid-cols-2 gap-3">
            <!--<div><strong>Name:</strong> {{ s.name || '—' }}</div>-->
            <div><strong>Student #:</strong> {{ s.studentNumber || '—' }}</div>
            <div class="md:col-span-2"><strong>Address:</strong> {{ s.address || '—' }}</div>
        </div>
    </div>

</div>



<!--<div class="p-4 max-w-4xl mx-auto">


 <h2 class="text-xl font-semibold mb-3">PDF OCR Reader</h2>

 <input type="file" accept="application/pdf" (change)="onFileChosen($event)" />

 <div *ngIf="isProcessing()" class="mt-4">
   <div>Processing… {{ (progress() * 100) | number:'1.0-0' }}%</div>
   <div style="height: 8px; background: #eee; border-radius: 4px;">
     <div [style.width.%]="progress() * 100" style="height: 8px; border-radius: 4px; background: #3b82f6;"></div>
   </div>
 </div>

 <p *ngIf="error()" class="mt-4 text-red-600">{{ error() }}</p>
<div *ngIf="result" class="mt-6">
     <h3 class="text-lg font-medium mb-2">Combined Text</h3>
     <textarea [value]="result.text" rows="10" style="width:100%;"></textarea>

     <h3 class="text-lg font-medium mt-6 mb-2">Per-page Details</h3>
     <div *ngFor="let p of result.byPage" class="mb-4 p-3" style="border:1px solid #e5e7eb; border-radius: 8px;">
       <div class="text-sm text-gray-500">Page {{ p.page }} • Method: {{ p.method }}</div>
       <pre style="white-space: pre-wrap; margin: 0;">{{ p.text }}</pre>
     </div>
   </div>
 </div>-->
